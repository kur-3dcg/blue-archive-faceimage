# 編成記録ツール

このツールはBlue Archiveの戦術対抗戦の防衛記録を保存して確認できるツールです。
先生名と編成を登録することにより、過去の履歴（30件）もさかのぼってみることができます。

---

## 🛠 機能一覧

### 🔷 編成登録・管理
- ユーザー名と編成（D1〜D4、S1〜S2）を画像付きドロップダウンから入力・登録
- **ユーザーアイコン設定**: ユーザー名に生徒一覧からアイコン画像を設定可能
- **攻め編成の登録**: 防衛に対する攻め編成（A1〜A4、SP1〜SP2）も登録可能
- 登録データはローカルストレージに保存され、自動で復元されます
- **折りたたみ式フォーム**: 編成登録フォームは初期状態で折りたたまれ、「新規登録」ボタンで展開

### 🟡 編集・上書き機能
- 編集ボタンで登録済みデータを変更可能
- **編集時は自動でフォームが展開**され、該当データが入力欄にセットされます
- 同名ユーザー名で登録すると上書きポップアップが表示され、意図しない上書きを防止します
- 編集中は入力欄が黄色でハイライト表示されます
- 中止ボタンで編集状態をキャンセル可能

### 🧾 履歴表示機能
- 各編成の過去履歴を最大30件まで保存
- 「履歴」ボタンで編成履歴を展開／折りたたみ可能
- 履歴にはキャラ画像と日付（年/月/日 時:分）が含まれます

### ❗ 警告・重複チェック
- **防衛・攻めそれぞれで重複チェック**: 同じキャラを複数枠に入れた場合、行背景が警告色で表示されます
- **未選択は重複としてカウントしません**

### ⬆️⬇️ ソート機能
- 名前・日付などの列をクリックすると昇順／降順ソートが可能
- ソート中は「▲」「▼」で表示状態を明示
- **日付ソートは年月日時分を正確に考慮**して並び替えます

### 📤 インポート / エクスポート機能
- JSON形式でデータをエクスポート／インポート可能
- 他ブラウザへの移行やバックアップ用途に対応
- **既存データとの互換性維持**: 古いデータをインポートしても新機能のフィールドは自動補完されます

### 📝 メモ機能
- 編成登録時に自由入力可能な「メモ欄」を追加
- **メモの折りたたみ表示**: デフォルトは非表示、「メモを表示」ボタンで切り替え
- **表示状態を保存**: ブラウザを閉じても設定が維持されます

### ⚔ 攻め編成の表示切り替え
- 「攻めを表示/非表示」ボタンで攻め列の表示を切り替え可能
- **表示状態を保存**: ブラウザを閉じても設定が維持されます

### 🧹 履歴の個別削除
- 履歴表示内のエントリごとに ❌ 削除ボタンを追加
- ボタンを押すと該当エントリのみを削除可能（確認ダイアログ付き）

### 🗃️ 所持キャラリスト表示
- 履歴から使用されたキャラを抽出し「所持キャラリスト」として表示
- 「所持」ボタンから該当ユーザーの履歴キャラを画像で一覧化
- 未選択・削除済み履歴のキャラは対象外

### 🐦 共有
- Twitterに共有したい防衛・攻め編成を投稿できます

---

## 🎨 デザイン

- **目に優しい配色**: 白基調に青のアクセントカラーで、長時間使用しても疲れにくいデザイン
- **防衛（青系）/ 攻め（赤系）の色分け**: 一目で防衛と攻めを区別できます
- キャラクターはアイコンのみ表示（ホバーで名前を確認可能）
